<h2
    class="dark:text-primary-light text-primary-dark font-mono font-semibold text-xl bg-light-light dark:bg-dark-light shadow-lg rounded-xl sticky top-0 left-0 z-10 py-[15px] m px-5 inline-flex w-full">
    Daily Top News
</h2>
<div class="flex flex-col gap-3 overflow-y-auto md:overflow-y-auto h-full w-full p-3"
    *ngIf="!isLoading; else loadingSection">
    <a [href]="article.url"
        class="border-[2px] border-transparent hover:border-primary-light hover:dark:border-primary-dark overflow-hidden transition-all ease-in-out duration-200 rounded-xl flex flex-col shadow-lg shadow-muted-light dark:shadow-none relative h-max max-h-40"
        *ngFor="let article of news; index as i">
        <img [src]="article.image" [alt]="article.title"
            class="bg-light-dark dark:bg-dark-dark object-cover w-full h-full" *ngIf="article.image; else imgMissing" />
        <ng-template #imgMissing>
            <div
                class="bg-light-dark dark:bg-dark-dark text-light-light dark:text-dark-light h-28 w-full p-2 font-mono">
                No image
            </div>
        </ng-template>
        <div
            class="absolute top-0 left-0 h-full min-h-24 w-full p-1 rounded-lg flex flex-col items-start justify-end transition-colors ease-in-out duration-200">
            <div
                class="bg-light-light dark:bg-dark-light bg-opacity-50 dark:bg-opacity-50 backdrop-blur-lg h-max w-full p-2 rounded-lg">
                <div class="flex items-center justify-between gap-2 flex-wrap mb-1">
                    <small class="font-mono font-semibold text-xs dark:text-light-light text-dark-dark"
                        *ngFor="let author of article.authors">
                        {{author.name}}
                    </small>
                </div>
                <h4 class="font-semibold dark:text-light-light text-dark-dark max-h-full overflow-clip">
                    {{article.title}}
                </h4>
            </div>
        </div>
    </a>
</div>

<!-- LOADING -->
<ng-template #loadingSection>
    <div class="flex flex-col gap-5 overflow-y-auto h-full">
        <div
            class="animate-pulse p-4 rounded-lg shadow-muted-light dark:shadow-muted-dark flex flex-col items-start gap-2">
            <div class="flex items-center justify-between">
                <small class="w-24 h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></small>
            </div>
            <h3 class="w-full h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></h3>
        </div>
        <div
            class="animate-pulse ring-1 ring-transparent hover:ring-primary-light hover:dark:ring-primary-dark p-4 rounded-lg shadow-muted-light dark:shadow-black flex flex-col items-start gap-2">
            <div class="flex items-center justify-between">
                <small class="w-24 h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></small>
            </div>
            <h3 class="w-full h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></h3>
        </div>
        <div
            class="animate-pulse ring-1 ring-transparent hover:ring-primary-light hover:dark:ring-primary-dark p-4 rounded-lg shadow-muted-light dark:shadow-black flex flex-col items-start gap-2">
            <div class="flex items-center justify-between">
                <small class="w-24 h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></small>
            </div>
            <h3 class="w-full h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></h3>
        </div>
        <div
            class="animate-pulse ring-1 ring-transparent hover:ring-primary-light hover:dark:ring-primary-dark p-4 rounded-lg shadow-muted-light dark:shadow-black flex flex-col items-start gap-2">
            <div class="flex items-center justify-between">
                <small class="w-24 h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></small>
            </div>
            <h3 class="w-full h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></h3>
        </div>
        <div
            class="animate-pulse ring-1 ring-transparent hover:ring-primary-light hover:dark:ring-primary-dark p-4 rounded-lg shadow-muted-light dark:shadow-black flex flex-col items-start gap-2">
            <div class="flex items-center justify-between">
                <small class="w-24 h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></small>
            </div>
            <h3 class="w-full h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></h3>
        </div>
        <div
            class="animate-pulse ring-1 ring-transparent hover:ring-primary-light hover:dark:ring-primary-dark p-4 rounded-lg shadow-muted-light dark:shadow-black flex flex-col items-start gap-2">
            <div class="flex items-center justify-between">
                <small class="w-24 h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></small>
            </div>
            <h3 class="w-full h-4 bg-muted-light dark:bg-muted-dark rounded-lg"></h3>
        </div>
    </div>
</ng-template>